rate limiting 一般用api gateway 或者load balancer解决 一般直接用第三方成型解决方案 但是以下内容还是good to know 算法： - token bucket amazon stripe用，每秒往bucket里边放了n个token，每个api request拿一个token走，ifbucket里边没有token，drop req 缺点是不好tune，但我没看出来难调，我觉得挺好调的 - leaking bucket 来一个req，就把req放到q里，q满了，把req drop掉 不太好应对burst - fixed window counter 在一个时间段内，看有多少个req，非常不推荐，面临的问题非常多。 时间段中间会超出limit就不说了，no global clock的问题也导致drop的规则不明确，但是可以先应用，再优化 - sliding window log 记忆所有的时间log，就算是扔了req，时间戳也进栈 - sliding window counter 拿个窗口滑动，数数